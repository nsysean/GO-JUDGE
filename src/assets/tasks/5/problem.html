<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Stop Fighting</TITLE>
    <SCRIPT type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$$$','$$$']], displayMath: [['$$$$$$','$$$$$$']]}
        });
        </SCRIPT>
        <SCRIPT async="" src="https://polygon.codeforces.com/lib/MathJax/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
    </SCRIPT>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Stop Fighting</DIV><DIV class="time-limit"><DIV class="property-title">time limit per test</DIV>9 seconds</DIV><DIV class="memory-limit"><DIV class="property-title">memory limit per test</DIV>256 megabytes</DIV><DIV class="input-file"><DIV class="property-title">input</DIV>standard input</DIV><DIV class="output-file"><DIV class="property-title">output</DIV>standard output</DIV></DIV><DIV class="legend"><P></P><DIV class="epigraph"><DIV class="epigraph-text"><SPAN class="tex-font-style-it">wuwuwuwu bully</SPAN></DIV><DIV class="epigraph-source">&mdash; arvindf232, <SPAN class="tex-font-style-it">2022</SPAN></DIV></DIV><P></P><P><SPAN class="tex-font-style-it">If you have seen this problem before, please re-read the statement. Major changes have been made.</SPAN></P><P>In a prison represented by a $$$N$$$ by $$$M$$$ grid, rows are numbered $$$1$$$ to $$$N$$$ from top to bottom and columns are numbered $$$1$$$ to $$$M$$$ from left tor right. ($$$x, y$$$) means the cell on the $$$x$$$-th row and $$$y$$$-th column. </P><P>There are $$$2$$$ prisoners. Prisoner $$$1$$$ is located at ($$$r_1, c_1$$$). Prisoner $$$2$$$ is located at ($$$r_2, c_2$$$). A prisoner can only move between two cells if they share a common edge. Prisoner $$$1$$$ and $$$2$$$ will fight against each other if there is at least one path that goes from ($$$r_1, c_1$$$) to ($$$r_2, c_2$$$).</P><P>Initially, walls are built directly outside the perimeter of the prison, and all cells inside the prison are pairwise reachable. A prisoner cannot enter a wall.</P><P>You are allowed to replace some cells with walls. You can only replace a cell with a wall only if there is no prisoner in the cell.</P><P>Output a set of cells to replace with walls such that the two prisoners will not fight against each other, i.e. there is no path from ($$$r_1, c_1$$$) to ($$$r_2, c_2$$$). You are allowed to output the same cell more than once, if you wish to. If there is no solution output $$$-1$$$.</P><P>Since replacing cells with walls is costly, you want to minimize the number of cells replaced. You may receive a partial score depending on the number of cells replaced. Read the scoring section for more details.</P></DIV><P></P><P></P><DIV class="input-specification"><DIV class="section-title">Input</DIV><P></P><P>The first line contains three integers $$$N, M$$$.</P><P>The second line contains four integers $$$r_1, c_1, r_2, c_2$$$.</P></DIV><P></P><P></P><DIV class="output-specification"><DIV class="section-title">Output</DIV><P></P><P>The first line contains a single integer $$$S$$$ ($$$1 \le S \le 2 \times 10^6$$$ or $$$S = -1$$$).</P><P>If $$$S \ge 1$$$, you should output $$$S$$$ more lines denoting the cells to replace with walls. Note that each cell ($$$x,y$$$) must satisfy $$$1 \le x \le N, 1 \le y \le M$$$. You may output repeated cells if you wish.</P><P>Note that since replacing cells with prisoners into walls is not permitted, if your solution contains such cell(s), they will be ignored (but you may still receive a partial score).</P></DIV><P></P><P></P><DIV class="scoring"><DIV class="section-title">Scoring</DIV><P></P><P>In all test cases: </P><UL> <LI> $$$1 \le N, M \le 1000$$$ </LI><LI> $$$N \times M \ge 2$$$ </LI><LI> $$$1 \le r_1, r_2 \le N, 1 \le c_1, c_2 \le M, (r_1, c_1) \ne (r_2, c_2)$$$. </LI></UL><P></P><P>Subtasks:</P><P>[1] $$$N = 1$$$ ($$$10$$$ points)</P><P>[2] $$$N = 2, M = 2$$$ ($$$5$$$ points)</P><P>[3] $$$N \ge 3, M \ge 4, 2 \le r_1, r_2 \le N-1, 2 \le c_1, c_2 \le M-1$$$ ($$$15$$$ points)</P><P>[4] $$$N \ge 3, M \ge 4, \min(|r_1-r_2|, |c_1-c_2|)&gt;1$$$ ($$$10$$$ points)</P><P>[5] No additional constraints ($$$60$$$ points)</P><P>For each test case:</P><P>If there is no solution: </P><UL> <LI> For impossible cases, if you did not output $$$-1$$$, you score $$$0\%$$$. </LI><LI> Else, you score $$$100\%$$$. </LI></UL><P></P><P>If there is a solution: let $$$S_0$$$ be the minimum number of cells replaced in the jury's solution. Then, your score is: </P><UL> <LI> If you did not output a valid solution, or $$$S$$$ is not between $$$1$$$ and $$$2 \times 10^6$$$ inclusive, <SPAN class="tex-font-style-bf">you score $$$0\%$$$</SPAN>. </LI><LI> If your solution satisfies $$$S \le S_0 + 16$$$, your score is <SPAN class="tex-font-style-bf">at least $$$(45+45 \times (1-\frac{S-S_0}{16})^3)\%$$$</SPAN>. </LI><LI> If your solution satisfies $$$S \le \max(N, M)$$$, your score is <SPAN class="tex-font-style-bf">at least $$$40\%$$$</SPAN>. </LI><LI> If your solution satisfies $$$S &gt; S_0$$$, your score is <SPAN class="tex-font-style-bf">at least $$$(90 - \frac{\log_3(S-S_0+1)}{\log_3(N \times M-1-S_0)} \times 70)\%$$$</SPAN>. </LI><LI> If your solution satisfies $$$S = S_0$$$, your score is <SPAN class="tex-font-style-bf">$$$100\%$$$</SPAN>. </LI><LI> If your solution satisfies multiple conditions, your score will correspond to the maximum scoring condition that your solution satisfied. </LI></UL></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Example</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Input</DIV><PRE class="content">
3 4
1 1 3 4</PRE></DIV><DIV class="output"><DIV class="title">Output</DIV><PRE class="content">
6
1 4
2 1
2 2
2 3
2 4
3 1</PRE></DIV></DIV></DIV><P></P><P></P><DIV class="note"><DIV class="section-title">Note</DIV><P></P><P>Sample illustration: <IMG class="tex-graphics" src="0a8b4c7f10748c8427a77754f884d72c453de040.png"></P><P>The sample output does not score full points.</P></DIV></DIV><P></P><P>  </P>

</BODY></HTML>