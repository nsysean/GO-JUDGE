<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <META content="no-cache" http-equiv="pragma">
    <META content="-1" http-equiv="expires">
    <META content="text/html;charset=UTF-8" http-equiv="content-type">
    <LINK href="problem-statement.css" rel="stylesheet" type="text/css">
    <TITLE>Light Bulbs</TITLE>
    <SCRIPT type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$$$','$$$']], displayMath: [['$$$$$$','$$$$$$']]}
        });
        </SCRIPT>
        <SCRIPT async="" src="https://polygon.codeforces.com/lib/MathJax/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
    </SCRIPT>
</HEAD><BODY>
    <DIV class="problem-statement"><DIV class="header"><DIV class="title">Light Bulbs</DIV><DIV class="time-limit"><DIV class="property-title">time limit per test</DIV>1 second</DIV><DIV class="memory-limit"><DIV class="property-title">memory limit per test</DIV>256 megabytes</DIV><DIV class="input-file"><DIV class="property-title">input</DIV>standard input</DIV><DIV class="output-file"><DIV class="property-title">output</DIV>standard output</DIV></DIV><DIV class="legend"><P>Alice has $$$N$$$ light bulbs, $$$N-1$$$ of them are working and one of them is broken.</P><P>A working light bulb can at most emit $$$D$$$ units of light. The amount of light emitted follows the cycle $$$0 \to 1 \to 2 \to \dots D-1 \to D \to D-1 \to D-2 \to \dots \to 1 \to 0 \to 1 \to 2 \to \dots$$$ (in other words, the amount of light increases $$$1$$$ unit per second until it reaches $$$D$$$, then it decreases $$$1$$$ unit per second until it reaches $$$0$$$, and it keeps repeating). </P><P>Each working light bulb $$$i$$$ ($$$1 \le i \le N$$$) emits a certain amount of light every second, starting from the $$$1$$$-st second. Each working light bulb <SPAN class="tex-font-style-bf">can start at different points of the cycle</SPAN>. The following are all examples of the amount of light emitted from working light bulbs for the first ten seconds, when $$$D = 3$$$: </P><UL> <LI> $$$0 \to 1 \to 2 \to 3 \to 2 \to 1 \to 0 \to 1 \to 2 \to 3$$$ </LI><LI> $$$1 \to 0 \to 1 \to 2 \to 3 \to 2 \to 1 \to 0 \to 1 \to 2$$$ </LI><LI> $$$1 \to 2 \to 3 \to 2 \to 1 \to 0 \to 1 \to 2 \to 3 \to 2$$$ </LI><LI> $$$2 \to 3 \to 2 \to 1 \to 0 \to 1 \to 2 \to 3 \to 2 \to 1$$$ </LI><LI> $$$2 \to 1 \to 0 \to 1 \to 2 \to 3 \to 2 \to 1 \to 0 \to 1$$$ </LI><LI> $$$3 \to 2 \to 1 \to 0 \to 1 \to 2 \to 3 \to 2 \to 1 \to 0$$$ </LI></UL><P></P><P>For the broken light bulb, it emits $$$0$$$ light every second. Formally, the following is the amount of light emitted from the broken light bulb for the first ten seconds, when $$$D = 3$$$ (though the value of $$$D$$$ does not matter): </P><UL> <LI> $$$0 \to 0 \to 0 \to 0 \to 0 \to 0 \to 0 \to 0 \to 0 \to 0$$$ </LI></UL><P></P><P>Each light bulb also contains a sensor above it. At a given second, if $$$k$$$ amount of light is emitted from bulb $$$X$$$, the sensor above bulb $$$Y$$$ can receive $$$\max(0, k - |X-Y|)$$$ amount of light.</P><P>Alice is extremely troubled by the pure existence of the broken bulb. She wants you to help her find the position of the broken light bulb. You can ask the jury at most $$$Q$$$ questions. For the $$$i$$$-th question ($$$i \ge 1$$$), you can specify two integers $$$L$$$ and $$$R$$$. The jury will return the total amount (number of units) of light received from the $$$L$$$-th to the $$$R$$$-th sensors (inclusive) at the $$$i$$$-th second.</P><P>Of course, asking too many questions is troublesome. Therefore, your score will depend on the number of questions asked.</P></DIV><P></P><P></P><DIV class="interaction"><DIV class="section-title">Interaction</DIV><P></P><P>Before you begin interaction, read in two integers $$$N$$$ and $$$D$$$, representing the number of bulbs and maximum amount of light that a working light bulb can emit.</P><P>Then, interaction begins. To ask the $$$i$$$-th ($$$i \ge 1$$$) question, output the following command prompt: <SPAN class="tex-font-style-tt">? L R</SPAN>, representing a question. The interactor will then return the total amount (number of units) of light received from the $$$L$$$-th to the $$$R$$$-th sensors (inclusive) at the $$$i$$$-th second.</P><P>When you are sure about the index of the broken bulb, output a single line <SPAN class="tex-font-style-tt">! M</SPAN> where $$$M$$$ represents the broken bulb. $$$M$$$ should be in the range of $$$1 \leq M \leq N$$$, or else a verdict of Wrong Answer will be returned. Please terminate your program after this command, or else an unexpected verdict may be returned. If the number of questions exceeds $$$Q$$$, an unexpected verdict may be returned.</P></DIV><P></P><P></P><DIV class="scoring"><DIV class="section-title">Scoring</DIV><P></P><P>In all subtasks: </P><UL> <LI> $$$1 \le D \le 10$$$ </LI><LI> $$$N = 100$$$ or $$$30000$$$ </LI><LI> $$$Q = 10^6$$$ </LI></UL><P></P><P>Subtask 1: $$$D = 1, N = 30000$$$ ($$$20$$$ points)</P><P>Subtask 2: $$$N = 100$$$ ($$$40$$$ points)</P><P>Subtask 3: $$$N = 30000$$$ ($$$40$$$ points)</P><P>In subtask $$$1$$$, you may obtain a partial score. Let the <SPAN class="tex-font-style-bf">maximum</SPAN> number of questions you used be $$$R$$$. Then, your score will be: </P><UL> <LI> $$$100\%$$$, if $$$R \le 30$$$ </LI><LI> $$$50\%$$$, if $$$30 &lt; R \le Q$$$ </LI><LI> $$$0\%$$$, if $$$R &gt; Q$$$ </LI></UL><P></P><P>In subtask $$$2$$$, you may obtain a partial score. Let the <SPAN class="tex-font-style-bf">maximum</SPAN> number of questions you used be $$$R$$$. Then, your score will be: </P><UL> <LI> $$$100\%$$$, if $$$R \le 80$$$ </LI><LI> $$$(40 + 0.3 \times (280-R))\%$$$, if $$$80 &lt; R \le 280$$$ </LI><LI> $$$25\%$$$, if $$$280 &lt; R \le Q$$$ </LI><LI> $$$0\%$$$, if $$$R &gt; Q$$$ </LI></UL><P></P><P>In subtask $$$3$$$, you may obtain a partial score. Let the <SPAN class="tex-font-style-bf">maximum</SPAN> number of questions you used be $$$R$$$. Then, your score will be: </P><UL> <LI> $$$100\%$$$, if $$$R \le 240$$$ </LI><LI> $$$(80 + \frac{300-R}{3})\%$$$, if $$$240 &lt; R \le 300$$$ </LI><LI> $$$(60 + \frac{400-R}{5})\%$$$, if $$$300 &lt; R \le 400$$$ </LI><LI> $$$(40 + \frac{600-R}{10})\%$$$, if $$$400 &lt; R \le 600$$$ </LI><LI> $$$25\%$$$, if $$$600 &lt; R \le Q$$$ </LI><LI> $$$0\%$$$, if $$$R &gt; Q$$$ </LI></UL></DIV><P></P><P></P><DIV class="sample-tests"><DIV class="section-title">Example</DIV><P></P><P></P><DIV class="sample-test"><DIV class="input"><DIV class="title">Input</DIV><PRE class="content">
8 2

1

5

</PRE></DIV><DIV class="output"><DIV class="title">Output</DIV><PRE class="content">

? 3 4

? 4 7

! 4</PRE></DIV></DIV></DIV><P></P><P></P><DIV class="note"><DIV class="section-title">Note</DIV><P></P><P>The example does not fulfill the constraints for any subtask. It is only used to demonstrate the interaction procedure and does not reveal any potential strategies to figure out the index of the broken light bulb.</P><P>Illustration for example: <IMG class="tex-graphics" src="04f8a156b2f4573a333d24ce96297236088a047d.png"></P></DIV></DIV><P></P><P>  </P>

</BODY></HTML>